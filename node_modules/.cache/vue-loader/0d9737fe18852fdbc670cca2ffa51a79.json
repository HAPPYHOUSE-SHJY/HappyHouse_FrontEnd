{"remainingRequest":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/views/Qnaboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/views/Qnaboard.vue","mtime":1622051746554},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZU1vbWVudCBmcm9tICJ2dWUtbW9tZW50IjsKaW1wb3J0IGh0dHAgZnJvbSAiQC91dGlsL2h0dHAtY29tbW9uIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwoKVnVlLnVzZShWdWVNb21lbnQpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJRbmFib2FyZCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwSGVyZTogZmFsc2UsCiAgICAgIGFydGljbGVzOiBbXSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZXJyb3JlZDogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJnZXRBY2Nlc3NUb2tlbiIsICJnZXRVc2VySWQiLCAiZ2V0VXNlck5hbWUiLCAiZ2V0SXNBZG1pbiJdKSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGRldGFpbEFydGljbGUoZGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZGV0YWlsYm9hcmQvIiArIGRpZCk7CiAgICB9LAogICAgcmV0cmlldmVBcnRpY2xlKCkgewogICAgICBodHRwCiAgICAgICAgLmdldCgiL3FuYWJvYXJkIikKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgdGhpcy5hcnRpY2xlcyA9IGRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFydGljbGVzKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBhbGVydCgi7JeQ65+s6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVBcnRpY2xlKGRpZCkgewogICAgICBhbGVydChkaWQgKyAi6rCAIOyCreygnO2VqeuLiOuLpC4iKTsKICAgICAgaHR0cAogICAgICAgIC5kZWxldGUoIi9xbmFib2FyZC8iICsgZGlkKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIGFsZXJ0KCLsgq3soJzsspjrpqzrpbwg7ZWY7JiA7Iq164uI64ukLiIpOwogICAgICAgICAgICB0aGlzLnJldHJpZXZlQXJ0aWNsZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIuyCreygnOyymOumrOulvCDtlZjsp4Ag66q77ZaI7Iq164uI64ukLiIpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuZXJyb3JlZCA9IHRydWU7CiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiAodGhpcy5sb2FkaW5nID0gZmFsc2UpKTsKICAgIH0sCiAgICBtb3ZlTGlzdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9xbmFib2FyZCIpOwogICAgfSwKICAgIG1vdmVJbnNlcnQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaW5zZXJ0Ym9hcmQiKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5yZXRyaWV2ZUFydGljbGUoKTsKICB9LAp9Owo="},{"version":3,"sources":["Qnaboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Qnaboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div style=\"min-height: 400px\">\n    <h2>Q&A 게시판 - 무엇이든 물어보살</h2>\n    <br />\n    <v-btn\n      class=\"mx-2\"\n      fab\n      color=\"primary\"\n      width=\"40px\"\n      height=\"40px\"\n      @click=\"moveInsert\"\n      style=\"float: right\"\n    >\n      <v-icon dark> mdi-pencil </v-icon>\n    </v-btn>\n\n    <br />\n    <br />\n\n    <div v-if=\"articles.length\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th id=\"no\">글번호</th>\n            <th id=\"writer\">글쓴이</th>\n            <th id=\"title\">제목</th>\n            <th id=\"regtime\">등록일</th>\n            <th id=\"check\">비고</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"article in articles\" :key=\"article.no\">\n            <td v-html=\"article.no\"></td>\n            <td v-html=\"article.writer\"></td>\n            <td class=\"text-left\">\n              <span @click=\"detailArticle(article.no)\">{{ article.title }}</span>\n            </td>\n            <td>\n              <span> {{ $moment(article.regtime).format(\"YY년 MM월 DD일\") }} </span>\n            </td>\n            <td>\n              <v-btn color=\"blue\" style=\"width: 30px\" dark @click=\"detailArticle(article.no)\">\n                상세보기\n              </v-btn>\n              <v-btn\n                v-if=\"getIsAdmin == 1 || getUserId == article.writer\"\n                color=\"red\"\n                style=\"width: 30px\"\n                dark\n                @click=\"deleteArticle(article.no)\"\n              >\n                삭제</v-btn\n              >\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-else>QnA가 존재하지 않습니다.</div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VueMoment from \"vue-moment\";\nimport http from \"@/util/http-common\";\nimport { mapGetters } from \"vuex\";\n\nVue.use(VueMoment);\n\nexport default {\n  name: \"Qnaboard\",\n  data() {\n    return {\n      upHere: false,\n      articles: [],\n      loading: true,\n      errored: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"getAccessToken\", \"getUserId\", \"getUserName\", \"getIsAdmin\"]),\n  },\n  methods: {\n    detailArticle(did) {\n      this.$router.push(\"/detailboard/\" + did);\n    },\n    retrieveArticle() {\n      http\n        .get(\"/qnaboard\")\n        .then(({ data }) => {\n          console.log(data);\n          this.articles = data;\n          console.log(this.articles);\n        })\n        .catch(() => {\n          alert(\"에러가 발생했습니다.\");\n        });\n    },\n    deleteArticle(did) {\n      alert(did + \"가 삭제합니다.\");\n      http\n        .delete(\"/qnaboard/\" + did)\n        .then((response) => {\n          if (response.data == \"success\") {\n            alert(\"삭제처리를 하였습니다.\");\n            this.retrieveArticle();\n          } else {\n            alert(\"삭제처리를 하지 못했습니다.\");\n          }\n        })\n        .catch(() => {\n          this.errored = true;\n        })\n        .finally(() => (this.loading = false));\n    },\n    moveList() {\n      this.$router.push(\"/qnaboard\");\n    },\n    moveInsert() {\n      this.$router.push(\"/insertboard\");\n    },\n  },\n  mounted() {\n    this.retrieveArticle();\n  },\n};\n</script>\n\n<style scoped>\n#no {\n  width: 10%;\n}\n#writer {\n  width: 20%;\n}\n#title {\n  width: 30%;\n}\n#comment_count {\n  width: 10%;\n}\n#regitime {\n  width: 10%;\n}\n#check {\n  width: 20%;\n}\n#subtitle {\n  float: right;\n}\nh2 {\n  text-align: center;\n}\nbutton {\n  margin-left: 30px;\n}\n\ntable {\n  border-top: 1px solid #444444;\n  border-right: none;\n  border-left: none;\n  width: 60%;\n  border-collapse: collapse;\n}\nth,\ntd {\n  border-right: none;\n  border-left: none;\n  border-bottom: 1px solid #444444;\n  padding: 10px;\n  border-collapse: collapse;\n}\n</style>\n"]}]}