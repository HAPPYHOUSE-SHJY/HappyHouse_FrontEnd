{"remainingRequest":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/views/Management.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/views/Management.vue","mtime":1621854418000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL2ltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWwvaHR0cC1jb21tb24iOw0KDQovL2NvbnN0IFNFUlZFUl9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1NFUlZFUl9VUkw7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIk1hbmFnZW1lbnQiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBoZWFkZXJzOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0ZXh0OiAi7JWE7J2065SUIiwNCiAgICAgICAgICBhbGlnbjogInN0YXJ0IiwNCiAgICAgICAgICB2YWx1ZTogInVzZXJpZCIsDQogICAgICAgIH0sDQogICAgICAgIHsgdGV4dDogIuydtOumhCIsIHZhbHVlOiAidXNlcm5hbWUiIH0sDQogICAgICAgIHsgdGV4dDogIuydtOuplOydvCIsIHZhbHVlOiAiZW1haWwiIH0sDQogICAgICAgIHsgdGV4dDogIuyjvOyGjCIsIHZhbHVlOiAiYWRkcmVzcyIgfSwNCiAgICAgICAgeyB0ZXh0OiAi67mE6rOgIiwgdmFsdWU6ICJhY3Rpb25zIiwgc29ydGFibGU6IGZhbHNlIH0sDQogICAgICBdLA0KICAgICAgdXNlcnM6IFtdLA0KICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsDQogICAgICBlZGl0ZWRJbmRleDogLTEsDQogICAgICBlZGl0ZWRJdGVtOiB7DQogICAgICAgIHVzZXJpZDogIiIsDQogICAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgICAgYWRkcmVzczogIiIsDQogICAgICAgIGVtYWlsOiAiIiwNCiAgICAgIH0sDQogICAgICBkZWZhdWx0SXRlbTogew0KICAgICAgICB1c2VyaWQ6ICIiLA0KICAgICAgICB1c2VybmFtZTogIiIsDQogICAgICAgIGFkZHJlc3M6ICIiLA0KICAgICAgICBlbWFpbDogIiIsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaHR0cA0KICAgICAgLmdldCgiL3VzZXIiKQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJzKTsNCiAgICAgIH0pDQogICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICBhbGVydCgi7ISc67KE7JeQIOyYpOulmOqwgCDsg53qsrzsirXri4jri6Qg44WI44WFIik7DQogICAgICB9KTsNCiAgfSwNCg0KICBjb21wdXRlZDogew0KICAgIGZvcm1UaXRsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICJOZXcgSXRlbSIgOiAiRWRpdCBJdGVtIjsNCiAgICB9LA0KICB9LA0KDQogIHdhdGNoOiB7DQogICAgZGlhbG9nKHZhbCkgew0KICAgICAgdmFsIHx8IHRoaXMuY2xvc2UoKTsNCiAgICB9LA0KICAgIGRpYWxvZ0RlbGV0ZSh2YWwpIHsNCiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCk7DQogICAgfSwNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgZWRpdEl0ZW0oaXRlbSkgew0KICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7DQogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7DQogICAgfSwNCg0KICAgIGRlbGV0ZUl0ZW0oaXRlbSkgew0KICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7DQogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7DQogICAgfSwNCg0KICAgIGRlbGV0ZUl0ZW1Db25maXJtKCkgew0KICAgICAgaHR0cA0KICAgICAgICAuZGVsZXRlKCIvdXNlci8iICsgdGhpcy5lZGl0ZWRJdGVtLnVzZXJpZCkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gInN1Y2Nlc3MiKSB7DQogICAgICAgICAgICBhbGVydCgi7IKt7KCc7LKY66as66W8IO2VmOyYgOyKteuLiOuLpC4iKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQoIuyCreygnOyymOumrOulvCDtlZjsp4Ag66q77ZaI7Iq164uI64ukLiIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBhbGVydCgi7ISc67KE7JeQIOyYpOulmOqwgCDsg53qsrzsirXri4jri6Qg44WI44WFIik7DQogICAgICAgIH0pOw0KDQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsNCiAgICAgIGh0dHANCiAgICAgICAgLmdldCgiL3VzZXIiKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJzKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBhbGVydCgi7ISc67KE7JeQIOyYpOulmOqwgCDsg53qsrzsirXri4jri6Qg44WI44WFIik7DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpOw0KICAgIH0sDQoNCiAgICBjbG9zZSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOw0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIGNsb3NlRGVsZXRlKCkgew0KICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNoZWNrKCkgew0KICAgICAgbGV0IGVyciA9IHRydWU7DQogICAgICBsZXQgbXNnID0gIiI7DQogICAgICAhdGhpcy5lZGl0ZWRJdGVtLmVtYWlsICYmDQogICAgICAgICgobXNnID0gIuydtOuplOydvOydhCDsnoXroKXtlbTso7zshLjsmpQiKSwgKGVyciA9IGZhbHNlKSwgdGhpcy4kcmVmcy5lbWFpbC5mb2N1cygpKTsNCiAgICAgIGVyciAmJg0KICAgICAgICAhdGhpcy5lZGl0ZWRJdGVtLmFkZHJlc3MgJiYNCiAgICAgICAgKChtc2cgPSAi7KO87IaM66W8IOyEoO2Dne2VtOyjvOyEuOyalCIpLCAoZXJyID0gZmFsc2UpLCB0aGlzLnNlYXJjaEFkZHJlc3MoKSk7DQoNCiAgICAgIGlmICghZXJyKSBhbGVydChtc2cpOw0KICAgICAgZWxzZSB0aGlzLnNhdmUoKTsNCiAgICB9LA0KICAgIHNhdmUoKSB7DQogICAgICBodHRwDQogICAgICAgIC5wdXQoIi91c2VyIiwgew0KICAgICAgICAgIHVzZXJpZDogdGhpcy5lZGl0ZWRJdGVtLnVzZXJpZCwNCiAgICAgICAgICB1c2VybmFtZTogdGhpcy5lZGl0ZWRJdGVtLnVzZXJuYW1lLA0KICAgICAgICAgIGFkZHJlc3M6IHRoaXMuZWRpdGVkSXRlbS5hZGRyZXNzLA0KICAgICAgICAgIGVtYWlsOiB0aGlzLmVkaXRlZEl0ZW0uZW1haWwsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgIGlmIChkYXRhID09ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgYWxlcnQoIu2ajOybkCDsoJXrs7Qg7IiY7KCV7J20IOyZhOujjCDrkJjsl4jsirXri4jri6QiKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQoIu2ajOybkCDsoJXrs7Qg7IiY7KCV7J2EIOyymOumrCDtlZjsp4Ag66q77ZaI7Iq164uI64ukLiIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBhbGVydCgi7ISc67KE7JeQIOyYpOulmOqwgCDsg53qsrzsirXri4jri6Qg44WI44WFIik7DQogICAgICAgIH0pOw0KDQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsNCiAgICAgIGh0dHANCiAgICAgICAgLmdldCgiL3VzZXIiKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXJzKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBhbGVydCgi7ISc67KE7JeQIOyYpOulmOqwgCDsg53qsrzsirXri4jri6Qg44WI44WFIik7DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSk7DQogICAgICB0aGlzLmNsb3NlKCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Management.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Management.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <v-data-table :headers=\"headers\" :items=\"users\" sort-by=\"username\" class=\"elevation-1\"\r\n      ><template v-slot:top>\r\n        <v-toolbar flat>\r\n          <v-toolbar-title>User Management</v-toolbar-title>\r\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n          <v-spacer></v-spacer>\r\n          <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n            <v-card>\r\n              <v-card-title>\r\n                <span class=\"headline\">Edit User</span>\r\n              </v-card-title>\r\n\r\n              <v-card-text>\r\n                <v-container>\r\n                  <v-row>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field\r\n                        v-model=\"editedItem.userid\"\r\n                        label=\"userid\"\r\n                        readonly\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field\r\n                        v-model=\"editedItem.username\"\r\n                        label=\"username\"\r\n                        readonly\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field\r\n                        v-model=\"editedItem.email\"\r\n                        label=\"email\"\r\n                        ref=\"email\"\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.address\" label=\"address\"></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-container>\r\n              </v-card-text>\r\n\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"blue darken-1\" text @click=\"close\"> Cancel </v-btn>\r\n                <v-btn color=\"blue darken-1\" text @click=\"check\"> Save </v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\r\n            <v-card>\r\n              <v-card-title class=\"headline\"\r\n                >Are you sure you want to delete this item?</v-card-title\r\n              >\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancel</v-btn>\r\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">OK</v-btn>\r\n                <v-spacer></v-spacer>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n        </v-toolbar>\r\n      </template>\r\n      <template v-slot:[`item.actions`]=\"{ item }\">\r\n        <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\r\n        <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\r\n      </template>\r\n    </v-data-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import axios from \"axios\";\r\nimport http from \"@/util/http-common\";\r\n\r\n//const SERVER_URL = process.env.VUE_APP_SERVER_URL;\r\n\r\nexport default {\r\n  name: \"Management\",\r\n  data() {\r\n    return {\r\n      headers: [\r\n        {\r\n          text: \"아이디\",\r\n          align: \"start\",\r\n          value: \"userid\",\r\n        },\r\n        { text: \"이름\", value: \"username\" },\r\n        { text: \"이메일\", value: \"email\" },\r\n        { text: \"주소\", value: \"address\" },\r\n        { text: \"비고\", value: \"actions\", sortable: false },\r\n      ],\r\n      users: [],\r\n      dialog: false,\r\n      dialogDelete: false,\r\n      editedIndex: -1,\r\n      editedItem: {\r\n        userid: \"\",\r\n        username: \"\",\r\n        address: \"\",\r\n        email: \"\",\r\n      },\r\n      defaultItem: {\r\n        userid: \"\",\r\n        username: \"\",\r\n        address: \"\",\r\n        email: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    http\r\n      .get(\"/user\")\r\n      .then((response) => {\r\n        this.users = response.data;\r\n        console.log(this.users);\r\n      })\r\n      .catch(() => {\r\n        alert(\"서버에 오류가 생겼습니다 ㅈㅅ\");\r\n      });\r\n  },\r\n\r\n  computed: {\r\n    formTitle() {\r\n      return this.editedIndex === -1 ? \"New Item\" : \"Edit Item\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close();\r\n    },\r\n    dialogDelete(val) {\r\n      val || this.closeDelete();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    editItem(item) {\r\n      this.editedItem = Object.assign({}, item);\r\n      this.dialog = true;\r\n    },\r\n\r\n    deleteItem(item) {\r\n      this.editedItem = Object.assign({}, item);\r\n      this.dialogDelete = true;\r\n    },\r\n\r\n    deleteItemConfirm() {\r\n      http\r\n        .delete(\"/user/\" + this.editedItem.userid)\r\n        .then((response) => {\r\n          if (response.data == \"success\") {\r\n            alert(\"삭제처리를 하였습니다.\");\r\n          } else {\r\n            alert(\"삭제처리를 하지 못했습니다.\");\r\n          }\r\n        })\r\n        .catch(() => {\r\n          alert(\"서버에 오류가 생겼습니다 ㅈㅅ\");\r\n        });\r\n\r\n      this.editedItem = Object.assign({}, this.defaultItem);\r\n      http\r\n        .get(\"/user\")\r\n        .then((response) => {\r\n          this.users = response.data;\r\n          console.log(this.users);\r\n        })\r\n        .catch(() => {\r\n          alert(\"서버에 오류가 생겼습니다 ㅈㅅ\");\r\n        });\r\n      this.closeDelete();\r\n    },\r\n\r\n    close() {\r\n      this.dialog = false;\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem);\r\n      });\r\n    },\r\n\r\n    closeDelete() {\r\n      this.dialogDelete = false;\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem);\r\n      });\r\n    },\r\n    check() {\r\n      let err = true;\r\n      let msg = \"\";\r\n      !this.editedItem.email &&\r\n        ((msg = \"이메일을 입력해주세요\"), (err = false), this.$refs.email.focus());\r\n      err &&\r\n        !this.editedItem.address &&\r\n        ((msg = \"주소를 선택해주세요\"), (err = false), this.searchAddress());\r\n\r\n      if (!err) alert(msg);\r\n      else this.save();\r\n    },\r\n    save() {\r\n      http\r\n        .put(\"/user\", {\r\n          userid: this.editedItem.userid,\r\n          username: this.editedItem.username,\r\n          address: this.editedItem.address,\r\n          email: this.editedItem.email,\r\n        })\r\n        .then(({ data }) => {\r\n          if (data == \"success\") {\r\n            alert(\"회원 정보 수정이 완료 되었습니다\");\r\n          } else {\r\n            alert(\"회원 정보 수정을 처리 하지 못했습니다.\");\r\n          }\r\n        })\r\n        .catch(() => {\r\n          alert(\"서버에 오류가 생겼습니다 ㅈㅅ\");\r\n        });\r\n\r\n      this.editedItem = Object.assign({}, this.defaultItem);\r\n      http\r\n        .get(\"/user\")\r\n        .then((response) => {\r\n          this.users = response.data;\r\n          console.log(this.users);\r\n        })\r\n        .catch(() => {\r\n          alert(\"서버에 오류가 생겼습니다 ㅈㅅ\");\r\n        });\r\n      this.editedItem = Object.assign({}, this.defaultItem);\r\n      this.close();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}