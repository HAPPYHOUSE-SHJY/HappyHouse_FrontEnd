{"remainingRequest":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/components/map/KakaoMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/components/map/KakaoMap.vue","mtime":1621752979577},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJLYWthb01hcCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbnRhaW5lcjogRG9jdW1lbnQsDQogICAgfTsNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBhcHRsaXN0OiBBcnJheSwNCiAgICBzaTogU3RyaW5nLA0KICAgIGd1Z3VuOiBTdHJpbmcsDQogICAgZG9uZzogU3RyaW5nLA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHdpbmRvdy5rYWthbyAmJiB3aW5kb3cua2FrYW8ubWFwcyA/IHRoaXMuaW5pdE1hcCgpIDogdGhpcy5hZGRTY3JpcHQoKTsNCiAgfSwNCiAgdXBkYXRlZCgpIHsNCiAgICB0aGlzLmFkZE1hcmtlcigpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdE1hcCgpIHsNCiAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1hcCIpOw0KICAgICAgdmFyIG9wdGlvbnMgPSB7DQogICAgICAgIGNlbnRlcjogbmV3IGtha2FvLm1hcHMuTGF0TG5nKDMzLjQ1MDcwMSwgMTI2LjU3MDY2NyksDQogICAgICAgIGxldmVsOiAzLA0KICAgICAgfTsNCiAgICAgIGxldCBtYXAgPSBuZXcga2FrYW8ubWFwcy5NYXAodGhpcy5jb250YWluZXIsIG9wdGlvbnMpOw0KICAgICAgLy/rp4jsu6TstpTqsIDtlZjroKTrqbQg6rCd7LK066W8IOyVhOuemOyZgCDqsJnsnbQg7ZWY64KYIOunjOuToOuLpC4NCiAgICAgIHZhciBtYXJrZXIgPSBuZXcga2FrYW8ubWFwcy5NYXJrZXIoew0KICAgICAgICBwb3NpdGlvbjogbWFwLmdldENlbnRlcigpLA0KICAgICAgfSk7DQogICAgICBtYXJrZXIuc2V0TWFwKG1hcCk7DQogICAgfSwNCiAgICBhZGRTY3JpcHQoKSB7DQogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsgLyogZ2xvYmFsIGtha2FvICovDQogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ga2FrYW8ubWFwcy5sb2FkKHRoaXMuaW5pdE1hcCk7DQogICAgICBzY3JpcHQuc3JjID0NCiAgICAgICAgImh0dHA6Ly9kYXBpLmtha2FvLmNvbS92Mi9tYXBzL3Nkay5qcz9hdXRvbG9hZD1mYWxzZSZhcHBrZXk9YjQzM2I3YjhmODUxZjk3MDlkMjZhMTVmYjRmYzA2NjAmbGlicmFyaWVzPXNlcnZpY2VzIjsNCiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCiAgICB9LA0KICAgIGFkZE1hcmtlcigpIHsNCiAgICAgIHZhciBtYXBPcHRpb24gPSB7DQogICAgICAgIGNlbnRlcjogbmV3IGtha2FvLm1hcHMuTGF0TG5nKDMzLjQ1MDcwMSwgMTI2LjU3MDY2NyksIC8vIOyngOuPhOydmCDspJHsi6zsooztkZwNCiAgICAgICAgbGV2ZWw6IDQsIC8vIOyngOuPhOydmCDtmZXrjIAg66CI67KoDQogICAgICB9OyAvLyDsp4Drj4Trpbwg7IOd7ISx7ZWp64uI64ukDQogICAgICB2YXIgbWFwID0gbmV3IGtha2FvLm1hcHMuTWFwKHRoaXMuY29udGFpbmVyLCBtYXBPcHRpb24pOyAvLyDso7zshowt7KKM7ZGcIOuzgO2ZmCDqsJ3ssrTrpbwg7IOd7ISx7ZWp64uI64ukDQogICAgICB2YXIgZ2VvY29kZXIgPSBuZXcga2FrYW8ubWFwcy5zZXJ2aWNlcy5HZW9jb2RlcigpOyAvLyDso7zshozroZwg7KKM7ZGc66W8IOqygOyDie2VqeuLiOuLpA0KICAgICAgdmFyIGltYWdlU3JjID0gImh0dHBzOi8vdDEuZGF1bWNkbi5uZXQvbG9jYWxpbWcvbG9jYWxpbWFnZXMvMDcvbWFwYXBpZG9jL21hcmtlclN0YXIucG5nIjsNCg0KICAgICAgLy8g7ZW064u5IOuPmeyXkCDslYTtjIztirgg6rGw656Y64K07Jet7J20IOyXhuycvOuptCDtlbTri7kg64+Z7Jy866GcIOychOy5mCDsobDsoJUNCiAgICAgIGlmICh0aGlzLmFwdGxpc3QubGVuZ3RoID09IDApIHsNCiAgICAgICAgdmFyIGFkZHJGdWxsTmFtZSA9IHRoaXMuc2kgKyAiICIgKyB0aGlzLmd1Z3VuICsgIiAiOw0KDQogICAgICAgIGdlb2NvZGVyLmFkZHJlc3NTZWFyY2goYWRkckZ1bGxOYW1lLCBmdW5jdGlvbiAocmVzdWx0LCBzdGF0dXMpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygic2VhcmNoITogIiArIGFkZHJGdWxsTmFtZSk7DQogICAgICAgICAgLy8g7KCV7IOB7KCB7Jy866GcIOqygOyDieydtCDsmYTro4zrkJDsnLzrqbQNCiAgICAgICAgICBpZiAoc3RhdHVzID09PSBrYWthby5tYXBzLnNlcnZpY2VzLlN0YXR1cy5PSykgew0KICAgICAgICAgICAgdmFyIGNvb3JkcyA9IG5ldyBrYWthby5tYXBzLkxhdExuZyhyZXN1bHRbMF0ueSwgcmVzdWx0WzBdLngpOw0KICAgICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBrYWthby5tYXBzLk1hcmtlcih7DQogICAgICAgICAgICAgIG1hcDogbWFwLA0KICAgICAgICAgICAgICBwb3NpdGlvbjogY29vcmRzLA0KICAgICAgICAgICAgfSk7IC8vIOyduO2PrOyciOuPhOyasOuhnCDsnqXshozsl5Ag64yA7ZWcIOyEpOuqheydhCDtkZzsi5ztlanri4jri6QNCiAgICAgICAgICAgIHZhciBpbmZvd2luZG93ID0gbmV3IGtha2FvLm1hcHMuSW5mb1dpbmRvdyh7DQogICAgICAgICAgICAgIGNvbnRlbnQ6DQogICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9IndpZHRoOjE1MHB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6NnB4IDA7Ij4nICsNCiAgICAgICAgICAgICAgICAi7ZW064u5IOuPhOyLnOyXkCDqsbDrnpgg64K07Jet7J20IOyXhuyKteuLiOuLpC4iICsNCiAgICAgICAgICAgICAgICAiPC9kaXY+IiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTsgLy8g7KeA64+E7J2YIOykkeyLrOydhCDqsrDqs7zqsJLsnLzroZwg67Cb7J2AIOychOy5mOuhnCDsnbTrj5nsi5ztgrXri4jri6QNCiAgICAgICAgICAgIG1hcmtlci5zZXRNYXAobWFwKTsNCiAgICAgICAgICAgIG1hcC5zZXRDZW50ZXIoY29vcmRzKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICB0aGlzLmFwdGxpc3QuZm9yRWFjaCgoZWxlbWVudCkgPT4gew0KICAgICAgICAvLyDrp4jsu6Qg7J2066+47KeA7J2YIOydtOuvuOyngCDtgazquLAg7J6F64uI64ukDQogICAgICAgIHZhciBpbWFnZVNpemUgPSBuZXcga2FrYW8ubWFwcy5TaXplKDI0LCAzNSk7DQoNCiAgICAgICAgLy8g66eI7LukIOydtOuvuOyngOulvCDsg53shLHtlanri4jri6QNCiAgICAgICAgdmFyIG1hcmtlckltYWdlID0gbmV3IGtha2FvLm1hcHMuTWFya2VySW1hZ2UoaW1hZ2VTcmMsIGltYWdlU2l6ZSk7DQoNCiAgICAgICAgdmFyIGFkZHJGdWxsTmFtZSA9IHRoaXMuc2kgKyAiICIgKyB0aGlzLmd1Z3VuICsgIiAiICsgZWxlbWVudC7rspXsoJXrj5kgKyAiICIgKyBlbGVtZW50LuuPhOuhnOuqhTsNCg0KICAgICAgICBnZW9jb2Rlci5hZGRyZXNzU2VhcmNoKGFkZHJGdWxsTmFtZSwgZnVuY3Rpb24gKHJlc3VsdCwgc3RhdHVzKSB7DQogICAgICAgICAgLy8g7KCV7IOB7KCB7Jy866GcIOqygOyDieydtCDsmYTro4zrkJDsnLzrqbQNCiAgICAgICAgICBpZiAoc3RhdHVzID09PSBrYWthby5tYXBzLnNlcnZpY2VzLlN0YXR1cy5PSykgew0KICAgICAgICAgICAgdmFyIGNvb3JkcyA9IG5ldyBrYWthby5tYXBzLkxhdExuZyhyZXN1bHRbMF0ueSwgcmVzdWx0WzBdLngpOw0KICAgICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBrYWthby5tYXBzLk1hcmtlcih7DQogICAgICAgICAgICAgIG1hcDogbWFwLA0KICAgICAgICAgICAgICBwb3NpdGlvbjogY29vcmRzLA0KICAgICAgICAgICAgICBpbWFnZTogbWFya2VySW1hZ2UsIC8vIOuniOy7pCDsnbTrr7jsp4ANCiAgICAgICAgICAgICAgdGl0bGU6IGVsZW1lbnQu7JWE7YyM7Yq4LA0KICAgICAgICAgICAgfSk7IC8vIOyduO2PrOyciOuPhOyasOuhnCDsnqXshozsl5Ag64yA7ZWcIOyEpOuqheydhCDtkZzsi5ztlanri4jri6QNCiAgICAgICAgICAgIHZhciBpbmZvd2luZG93ID0gbmV3IGtha2FvLm1hcHMuSW5mb1dpbmRvdyh7DQogICAgICAgICAgICAgIGNvbnRlbnQ6DQogICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9IndpZHRoOjE1MHB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6NnB4IDA7Ij4nICsNCiAgICAgICAgICAgICAgICBhZGRyRnVsbE5hbWUgKw0KICAgICAgICAgICAgICAgICIgIiArDQogICAgICAgICAgICAgICAgZWxlbWVudC7slYTtjIztirggKw0KICAgICAgICAgICAgICAgICI8L2Rpdj4iLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpOyAvLyDsp4Drj4TsnZgg7KSR7Ius7J2EIOqysOqzvOqwkuycvOuhnCDrsJvsnYAg7JyE7LmY66GcIOydtOuPmeyLnO2CteuLiOuLpA0KICAgICAgICAgICAgbWFya2VyLnNldE1hcChtYXApOw0KICAgICAgICAgICAgbWFwLnNldENlbnRlcihjb29yZHMpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["KakaoMap.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"KakaoMap.vue","sourceRoot":"src/components/map","sourcesContent":["<template>\r\n  <!-- 카카오맵 Vue -->\r\n  <div>\r\n    <div id=\"map\" style=\"width: 100%; height: 500px\"></div>\r\n    <div hidden>\r\n      {{ aptlist }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"KakaoMap\",\r\n  data() {\r\n    return {\r\n      container: Document,\r\n    };\r\n  },\r\n  props: {\r\n    aptlist: Array,\r\n    si: String,\r\n    gugun: String,\r\n    dong: String,\r\n  },\r\n  mounted() {\r\n    window.kakao && window.kakao.maps ? this.initMap() : this.addScript();\r\n  },\r\n  updated() {\r\n    this.addMarker();\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      this.container = document.getElementById(\"map\");\r\n      var options = {\r\n        center: new kakao.maps.LatLng(33.450701, 126.570667),\r\n        level: 3,\r\n      };\r\n      let map = new kakao.maps.Map(this.container, options);\r\n      //마커추가하려면 객체를 아래와 같이 하나 만든다.\r\n      var marker = new kakao.maps.Marker({\r\n        position: map.getCenter(),\r\n      });\r\n      marker.setMap(map);\r\n    },\r\n    addScript() {\r\n      const script = document.createElement(\"script\"); /* global kakao */\r\n      script.onload = () => kakao.maps.load(this.initMap);\r\n      script.src =\r\n        \"http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=b433b7b8f851f9709d26a15fb4fc0660&libraries=services\";\r\n      document.head.appendChild(script);\r\n    },\r\n    addMarker() {\r\n      var mapOption = {\r\n        center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표\r\n        level: 4, // 지도의 확대 레벨\r\n      }; // 지도를 생성합니다\r\n      var map = new kakao.maps.Map(this.container, mapOption); // 주소-좌표 변환 객체를 생성합니다\r\n      var geocoder = new kakao.maps.services.Geocoder(); // 주소로 좌표를 검색합니다\r\n      var imageSrc = \"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png\";\r\n\r\n      // 해당 동에 아파트 거래내역이 없으면 해당 동으로 위치 조정\r\n      if (this.aptlist.length == 0) {\r\n        var addrFullName = this.si + \" \" + this.gugun + \" \";\r\n\r\n        geocoder.addressSearch(addrFullName, function (result, status) {\r\n          console.log(\"search!: \" + addrFullName);\r\n          // 정상적으로 검색이 완료됐으면\r\n          if (status === kakao.maps.services.Status.OK) {\r\n            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\r\n            var marker = new kakao.maps.Marker({\r\n              map: map,\r\n              position: coords,\r\n            }); // 인포윈도우로 장소에 대한 설명을 표시합니다\r\n            var infowindow = new kakao.maps.InfoWindow({\r\n              content:\r\n                '<div style=\"width:150px;text-align:center;padding:6px 0;\">' +\r\n                \"해당 도시에 거래 내역이 없습니다.\" +\r\n                \"</div>\",\r\n            });\r\n            infowindow.open(map, marker); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n            marker.setMap(map);\r\n            map.setCenter(coords);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.aptlist.forEach((element) => {\r\n        // 마커 이미지의 이미지 크기 입니다\r\n        var imageSize = new kakao.maps.Size(24, 35);\r\n\r\n        // 마커 이미지를 생성합니다\r\n        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);\r\n\r\n        var addrFullName = this.si + \" \" + this.gugun + \" \" + element.법정동 + \" \" + element.도로명;\r\n\r\n        geocoder.addressSearch(addrFullName, function (result, status) {\r\n          // 정상적으로 검색이 완료됐으면\r\n          if (status === kakao.maps.services.Status.OK) {\r\n            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\r\n            var marker = new kakao.maps.Marker({\r\n              map: map,\r\n              position: coords,\r\n              image: markerImage, // 마커 이미지\r\n              title: element.아파트,\r\n            }); // 인포윈도우로 장소에 대한 설명을 표시합니다\r\n            var infowindow = new kakao.maps.InfoWindow({\r\n              content:\r\n                '<div style=\"width:150px;text-align:center;padding:6px 0;\">' +\r\n                addrFullName +\r\n                \" \" +\r\n                element.아파트 +\r\n                \"</div>\",\r\n            });\r\n            infowindow.open(map, marker); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n            marker.setMap(map);\r\n            map.setCenter(coords);\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}