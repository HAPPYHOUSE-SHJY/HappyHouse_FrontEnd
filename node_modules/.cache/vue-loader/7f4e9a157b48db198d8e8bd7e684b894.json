{"remainingRequest":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/components/map/KakaoMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/components/map/KakaoMap.vue","mtime":1621696101294},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdLYWthb01hcCcsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbnRhaW5lcjogRG9jdW1lbnQsDQogICAgfTsNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBhcHRsaXN0OiBBcnJheSwNCiAgICBzaTogU3RyaW5nLA0KICAgIGd1Z3VuOiBTdHJpbmcsDQogICAgZG9uZzogU3RyaW5nLA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHdpbmRvdy5rYWthbyAmJiB3aW5kb3cua2FrYW8ubWFwcyA/IHRoaXMuaW5pdE1hcCgpIDogdGhpcy5hZGRTY3JpcHQoKTsNCiAgfSwNCiAgdXBkYXRlZCgpIHsNCiAgICB0aGlzLmFkZE1hcmtlcigpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdE1hcCgpIHsNCiAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpOw0KICAgICAgdmFyIG9wdGlvbnMgPSB7DQogICAgICAgIGNlbnRlcjogbmV3IGtha2FvLm1hcHMuTGF0TG5nKDMzLjQ1MDcwMSwgMTI2LjU3MDY2NyksDQogICAgICAgIGxldmVsOiAzLA0KICAgICAgfTsNCiAgICAgIGxldCBtYXAgPSBuZXcga2FrYW8ubWFwcy5NYXAodGhpcy5jb250YWluZXIsIG9wdGlvbnMpOw0KICAgICAgLy/rp4jsu6TstpTqsIDtlZjroKTrqbQg6rCd7LK066W8IOyVhOuemOyZgCDqsJnsnbQg7ZWY64KYIOunjOuToOuLpC4NCiAgICAgIHZhciBtYXJrZXIgPSBuZXcga2FrYW8ubWFwcy5NYXJrZXIoew0KICAgICAgICBwb3NpdGlvbjogbWFwLmdldENlbnRlcigpLA0KICAgICAgfSk7DQogICAgICBtYXJrZXIuc2V0TWFwKG1hcCk7DQogICAgfSwNCiAgICBhZGRTY3JpcHQoKSB7DQogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgLyogZ2xvYmFsIGtha2FvICovDQogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ga2FrYW8ubWFwcy5sb2FkKHRoaXMuaW5pdE1hcCk7DQogICAgICBzY3JpcHQuc3JjID0NCiAgICAgICAgJ2h0dHA6Ly9kYXBpLmtha2FvLmNvbS92Mi9tYXBzL3Nkay5qcz9hdXRvbG9hZD1mYWxzZSZhcHBrZXk9YjQzM2I3YjhmODUxZjk3MDlkMjZhMTVmYjRmYzA2NjAmbGlicmFyaWVzPXNlcnZpY2VzJzsNCiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsNCiAgICB9LA0KICAgIGFkZE1hcmtlcigpIHsNCiAgICAgIHZhciBtYXBPcHRpb24gPSB7DQogICAgICAgIGNlbnRlcjogbmV3IGtha2FvLm1hcHMuTGF0TG5nKDMzLjQ1MDcwMSwgMTI2LjU3MDY2NyksIC8vIOyngOuPhOydmCDspJHsi6zsooztkZwNCiAgICAgICAgbGV2ZWw6IDQsIC8vIOyngOuPhOydmCDtmZXrjIAg66CI67KoDQogICAgICB9OyAvLyDsp4Drj4Trpbwg7IOd7ISx7ZWp64uI64ukDQogICAgICB2YXIgbWFwID0gbmV3IGtha2FvLm1hcHMuTWFwKHRoaXMuY29udGFpbmVyLCBtYXBPcHRpb24pOyAvLyDso7zshowt7KKM7ZGcIOuzgO2ZmCDqsJ3ssrTrpbwg7IOd7ISx7ZWp64uI64ukDQogICAgICB2YXIgZ2VvY29kZXIgPSBuZXcga2FrYW8ubWFwcy5zZXJ2aWNlcy5HZW9jb2RlcigpOyAvLyDso7zshozroZwg7KKM7ZGc66W8IOqygOyDie2VqeuLiOuLpA0KICAgICAgdmFyIGltYWdlU3JjID0NCiAgICAgICAgJ2h0dHBzOi8vdDEuZGF1bWNkbi5uZXQvbG9jYWxpbWcvbG9jYWxpbWFnZXMvMDcvbWFwYXBpZG9jL21hcmtlclN0YXIucG5nJzsNCg0KICAgICAgLy8g7ZW064u5IOuPmeyXkCDslYTtjIztirgg6rGw656Y64K07Jet7J20IOyXhuycvOuptCDtlbTri7kg64+Z7Jy866GcIOychOy5mCDsobDsoJUNCiAgICAgIGlmICh0aGlzLmFwdGxpc3QubGVuZ3RoID09IDApIHsNCiAgICAgICAgdmFyIGFkZHJGdWxsTmFtZSA9IHRoaXMuc2kgKyAnICcgKyB0aGlzLmd1Z3VuICsgJyAnOw0KDQogICAgICAgIGdlb2NvZGVyLmFkZHJlc3NTZWFyY2goYWRkckZ1bGxOYW1lLCBmdW5jdGlvbihyZXN1bHQsIHN0YXR1cykgew0KICAgICAgICAgIC8vIOygleyDgeyggeycvOuhnCDqsoDsg4nsnbQg7JmE66OM65CQ7Jy866m0DQogICAgICAgICAgaWYgKHN0YXR1cyA9PT0ga2FrYW8ubWFwcy5zZXJ2aWNlcy5TdGF0dXMuT0spIHsNCiAgICAgICAgICAgIHZhciBjb29yZHMgPSBuZXcga2FrYW8ubWFwcy5MYXRMbmcocmVzdWx0WzBdLnksIHJlc3VsdFswXS54KTsNCiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBuZXcga2FrYW8ubWFwcy5NYXJrZXIoew0KICAgICAgICAgICAgICBtYXA6IG1hcCwNCiAgICAgICAgICAgICAgcG9zaXRpb246IGNvb3JkcywNCiAgICAgICAgICAgIH0pOyAvLyDsnbjtj6zsnIjrj4TsmrDroZwg7J6l7IaM7JeQIOuMgO2VnCDshKTrqoXsnYQg7ZGc7Iuc7ZWp64uI64ukDQogICAgICAgICAgICB2YXIgaW5mb3dpbmRvdyA9IG5ldyBrYWthby5tYXBzLkluZm9XaW5kb3coew0KICAgICAgICAgICAgICBjb250ZW50Og0KICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPSJ3aWR0aDoxNTBweDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjZweCAwOyI+JyArDQogICAgICAgICAgICAgICAgJ+2VtOuLuSDrj4Tsi5zsl5Ag6rGw656YIOuCtOyXreydtCDsl4bsirXri4jri6QuJyArDQogICAgICAgICAgICAgICAgJzwvZGl2PicsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7IC8vIOyngOuPhOydmCDspJHsi6zsnYQg6rKw6rO86rCS7Jy866GcIOuwm+ydgCDsnITsuZjroZwg7J2064+Z7Iuc7YK164uI64ukDQogICAgICAgICAgICBtYXJrZXIuc2V0TWFwKG1hcCk7DQogICAgICAgICAgICBtYXAuc2V0Q2VudGVyKGNvb3Jkcyk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgdGhpcy5hcHRsaXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHsNCiAgICAgICAgLy8g66eI7LukIOydtOuvuOyngOydmCDsnbTrr7jsp4Ag7YGs6riwIOyeheuLiOuLpA0KICAgICAgICB2YXIgaW1hZ2VTaXplID0gbmV3IGtha2FvLm1hcHMuU2l6ZSgyNCwgMzUpOw0KDQogICAgICAgIC8vIOuniOy7pCDsnbTrr7jsp4Drpbwg7IOd7ISx7ZWp64uI64ukDQogICAgICAgIHZhciBtYXJrZXJJbWFnZSA9IG5ldyBrYWthby5tYXBzLk1hcmtlckltYWdlKGltYWdlU3JjLCBpbWFnZVNpemUpOw0KDQogICAgICAgIHZhciBhZGRyRnVsbE5hbWUgPQ0KICAgICAgICAgIHRoaXMuc2kgKw0KICAgICAgICAgICcgJyArDQogICAgICAgICAgdGhpcy5ndWd1biArDQogICAgICAgICAgJyAnICsNCiAgICAgICAgICBlbGVtZW50LuuyleygleuPmSArDQogICAgICAgICAgJyAnICsNCiAgICAgICAgICBlbGVtZW50LuuPhOuhnOuqhTsNCg0KICAgICAgICBnZW9jb2Rlci5hZGRyZXNzU2VhcmNoKGFkZHJGdWxsTmFtZSwgZnVuY3Rpb24ocmVzdWx0LCBzdGF0dXMpIHsNCiAgICAgICAgICAvLyDsoJXsg4HsoIHsnLzroZwg6rKA7IOJ7J20IOyZhOujjOuQkOycvOuptA0KICAgICAgICAgIGlmIChzdGF0dXMgPT09IGtha2FvLm1hcHMuc2VydmljZXMuU3RhdHVzLk9LKSB7DQogICAgICAgICAgICB2YXIgY29vcmRzID0gbmV3IGtha2FvLm1hcHMuTGF0TG5nKHJlc3VsdFswXS55LCByZXN1bHRbMF0ueCk7DQogICAgICAgICAgICB2YXIgbWFya2VyID0gbmV3IGtha2FvLm1hcHMuTWFya2VyKHsNCiAgICAgICAgICAgICAgbWFwOiBtYXAsDQogICAgICAgICAgICAgIHBvc2l0aW9uOiBjb29yZHMsDQogICAgICAgICAgICAgIGltYWdlOiBtYXJrZXJJbWFnZSwgLy8g66eI7LukIOydtOuvuOyngA0KICAgICAgICAgICAgICB0aXRsZTogZWxlbWVudC7slYTtjIztirgsDQogICAgICAgICAgICB9KTsgLy8g7J247Y+s7JyI64+E7Jqw66GcIOyepeyGjOyXkCDrjIDtlZwg7ISk66qF7J2EIO2RnOyLnO2VqeuLiOuLpA0KICAgICAgICAgICAgdmFyIGluZm93aW5kb3cgPSBuZXcga2FrYW8ubWFwcy5JbmZvV2luZG93KHsNCiAgICAgICAgICAgICAgY29udGVudDoNCiAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT0id2lkdGg6MTUwcHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo2cHggMDsiPicgKw0KICAgICAgICAgICAgICAgIGFkZHJGdWxsTmFtZSArDQogICAgICAgICAgICAgICAgJyAnICsNCiAgICAgICAgICAgICAgICBlbGVtZW50LuyVhO2MjO2KuCArDQogICAgICAgICAgICAgICAgJzwvZGl2PicsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7IC8vIOyngOuPhOydmCDspJHsi6zsnYQg6rKw6rO86rCS7Jy866GcIOuwm+ydgCDsnITsuZjroZwg7J2064+Z7Iuc7YK164uI64ukDQogICAgICAgICAgICBtYXJrZXIuc2V0TWFwKG1hcCk7DQogICAgICAgICAgICBtYXAuc2V0Q2VudGVyKGNvb3Jkcyk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["KakaoMap.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"KakaoMap.vue","sourceRoot":"src/components/map","sourcesContent":["<template>\r\n  <!-- 카카오맵 Vue -->\r\n  <div>\r\n    <div id=\"map\" style=\"width:100%;height:500px;\"></div>\r\n    <div hidden>\r\n      {{ aptlist }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'KakaoMap',\r\n  data() {\r\n    return {\r\n      container: Document,\r\n    };\r\n  },\r\n  props: {\r\n    aptlist: Array,\r\n    si: String,\r\n    gugun: String,\r\n    dong: String,\r\n  },\r\n  mounted() {\r\n    window.kakao && window.kakao.maps ? this.initMap() : this.addScript();\r\n  },\r\n  updated() {\r\n    this.addMarker();\r\n  },\r\n  methods: {\r\n    initMap() {\r\n      this.container = document.getElementById('map');\r\n      var options = {\r\n        center: new kakao.maps.LatLng(33.450701, 126.570667),\r\n        level: 3,\r\n      };\r\n      let map = new kakao.maps.Map(this.container, options);\r\n      //마커추가하려면 객체를 아래와 같이 하나 만든다.\r\n      var marker = new kakao.maps.Marker({\r\n        position: map.getCenter(),\r\n      });\r\n      marker.setMap(map);\r\n    },\r\n    addScript() {\r\n      const script = document.createElement('script'); /* global kakao */\r\n      script.onload = () => kakao.maps.load(this.initMap);\r\n      script.src =\r\n        'http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=b433b7b8f851f9709d26a15fb4fc0660&libraries=services';\r\n      document.head.appendChild(script);\r\n    },\r\n    addMarker() {\r\n      var mapOption = {\r\n        center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표\r\n        level: 4, // 지도의 확대 레벨\r\n      }; // 지도를 생성합니다\r\n      var map = new kakao.maps.Map(this.container, mapOption); // 주소-좌표 변환 객체를 생성합니다\r\n      var geocoder = new kakao.maps.services.Geocoder(); // 주소로 좌표를 검색합니다\r\n      var imageSrc =\r\n        'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png';\r\n\r\n      // 해당 동에 아파트 거래내역이 없으면 해당 동으로 위치 조정\r\n      if (this.aptlist.length == 0) {\r\n        var addrFullName = this.si + ' ' + this.gugun + ' ';\r\n\r\n        geocoder.addressSearch(addrFullName, function(result, status) {\r\n          // 정상적으로 검색이 완료됐으면\r\n          if (status === kakao.maps.services.Status.OK) {\r\n            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\r\n            var marker = new kakao.maps.Marker({\r\n              map: map,\r\n              position: coords,\r\n            }); // 인포윈도우로 장소에 대한 설명을 표시합니다\r\n            var infowindow = new kakao.maps.InfoWindow({\r\n              content:\r\n                '<div style=\"width:150px;text-align:center;padding:6px 0;\">' +\r\n                '해당 도시에 거래 내역이 없습니다.' +\r\n                '</div>',\r\n            });\r\n            infowindow.open(map, marker); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n            marker.setMap(map);\r\n            map.setCenter(coords);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.aptlist.forEach((element) => {\r\n        // 마커 이미지의 이미지 크기 입니다\r\n        var imageSize = new kakao.maps.Size(24, 35);\r\n\r\n        // 마커 이미지를 생성합니다\r\n        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);\r\n\r\n        var addrFullName =\r\n          this.si +\r\n          ' ' +\r\n          this.gugun +\r\n          ' ' +\r\n          element.법정동 +\r\n          ' ' +\r\n          element.도로명;\r\n\r\n        geocoder.addressSearch(addrFullName, function(result, status) {\r\n          // 정상적으로 검색이 완료됐으면\r\n          if (status === kakao.maps.services.Status.OK) {\r\n            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);\r\n            var marker = new kakao.maps.Marker({\r\n              map: map,\r\n              position: coords,\r\n              image: markerImage, // 마커 이미지\r\n              title: element.아파트,\r\n            }); // 인포윈도우로 장소에 대한 설명을 표시합니다\r\n            var infowindow = new kakao.maps.InfoWindow({\r\n              content:\r\n                '<div style=\"width:150px;text-align:center;padding:6px 0;\">' +\r\n                addrFullName +\r\n                ' ' +\r\n                element.아파트 +\r\n                '</div>',\r\n            });\r\n            infowindow.open(map, marker); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n            marker.setMap(map);\r\n            map.setCenter(coords);\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}