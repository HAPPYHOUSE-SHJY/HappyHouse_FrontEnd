{"remainingRequest":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/babel-loader/lib/index.js!/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/eslint-loader/index.js??ref--13-0!/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/store/index.js","dependencies":[{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/store/index.js","mtime":1621839676303},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKVnVlLnVzZShWdWV4KTsKdmFyIFNFUlZFUl9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1NFUlZFUl9VUkw7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgYWNjZXNzVG9rZW46IG51bGwsCiAgICB1c2VySWQ6ICIiLAogICAgdXNlck5hbWU6ICIiCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRBY2Nlc3NUb2tlbjogZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFjY2Vzc1Rva2VuOwogICAgfSwKICAgIGdldFVzZXJJZDogZnVuY3Rpb24gZ2V0VXNlcklkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VySWQ7CiAgICB9LAogICAgZ2V0VXNlck5hbWU6IGZ1bmN0aW9uIGdldFVzZXJOYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyTmFtZTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgTE9HSU46IGZ1bmN0aW9uIExPR0lOKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmFjY2Vzc1Rva2VuID0gcGF5bG9hZFsiYXV0aC10b2tlbiJdOwogICAgICBzdGF0ZS51c2VySWQgPSBwYXlsb2FkWyJ1c2VyLWlkIl07CiAgICAgIHN0YXRlLnVzZXJOYW1lID0gcGF5bG9hZFsidXNlci1uYW1lIl07CiAgICB9LAogICAgTE9HT1VUOiBmdW5jdGlvbiBMT0dPVVQoc3RhdGUpIHsKICAgICAgc3RhdGUuYWNjZXNzVG9rZW4gPSBudWxsOwogICAgICBzdGF0ZS51c2VySWQgPSAiIjsKICAgICAgc3RhdGUudXNlck5hbWUgPSAiIjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihjb250ZXh0LCB1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKCLroZzqt7jsnbgg7Iuc64+EISEiKTsKICAgICAgY29uc29sZS5sb2coU0VSVkVSX1VSTCk7CiAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChTRVJWRVJfVVJMLCAiL3VzZXIvbG9naW4iKSwgdXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICBhbGVydCgi66Gc6re47J247JeQIOyLpO2MqO2VmOyYgOyKteuLiOuLpC4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29udGV4dC5jb21taXQoIkxPR0lOIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiYXV0aC10b2tlbiJdID0gIiIuY29uY2F0KHJlc3BvbnNlLmRhdGFbImF1dGgtdG9rZW4iXSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBMT0dPVVQ6IGZ1bmN0aW9uIExPR09VVChjb250ZXh0KSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCJMT0dPVVQiKTsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bImF1dGgtdG9rZW4iXSA9IHVuZGVmaW5lZDsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/yoon/SSAFY/vuejs/Project/happyhouse_final/src/store/index.js"],"names":["Vue","Vuex","axios","use","SERVER_URL","process","env","VUE_APP_SERVER_URL","Store","state","accessToken","userId","userName","getters","getAccessToken","getUserId","getUserName","mutations","LOGIN","payload","LOGOUT","actions","context","user","console","log","post","then","response","data","message","alert","commit","defaults","headers","common","undefined"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,IAAMG,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA/B;AAEA,eAAe,IAAIN,IAAI,CAACO,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,IADR;AAELC,IAAAA,MAAM,EAAE,EAFH;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GADqB;AAM5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,cADO,0BACQL,KADR,EACe;AACpB,aAAOA,KAAK,CAACC,WAAb;AACD,KAHM;AAIPK,IAAAA,SAJO,qBAIGN,KAJH,EAIU;AACf,aAAOA,KAAK,CAACE,MAAb;AACD,KANM;AAOPK,IAAAA,WAPO,uBAOKP,KAPL,EAOY;AACjB,aAAOA,KAAK,CAACG,QAAb;AACD;AATM,GANmB;AAiB5BK,EAAAA,SAAS,EAAE;AACTC,IAAAA,KADS,iBACHT,KADG,EACIU,OADJ,EACa;AACpBV,MAAAA,KAAK,CAACC,WAAN,GAAoBS,OAAO,CAAC,YAAD,CAA3B;AACAV,MAAAA,KAAK,CAACE,MAAN,GAAeQ,OAAO,CAAC,SAAD,CAAtB;AACAV,MAAAA,KAAK,CAACG,QAAN,GAAiBO,OAAO,CAAC,WAAD,CAAxB;AACD,KALQ;AAMTC,IAAAA,MANS,kBAMFX,KANE,EAMK;AACZA,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACE,MAAN,GAAe,EAAf;AACAF,MAAAA,KAAK,CAACG,QAAN,GAAiB,EAAjB;AACD;AAVQ,GAjBiB;AA6B5BS,EAAAA,OAAO,EAAE;AACPH,IAAAA,KADO,iBACDI,OADC,EACQC,IADR,EACc;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYrB,UAAZ;AACA,aAAOF,KAAK,CAACwB,IAAN,WAActB,UAAd,kBAAuCmB,IAAvC,EAA6CI,IAA7C,CAAkD,UAACC,QAAD,EAAc;AACrE,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACzBC,UAAAA,KAAK,CAAC,eAAD,CAAL;AACD,SAFD,MAEO;AACLT,UAAAA,OAAO,CAACU,MAAR,CAAe,OAAf,EAAwBJ,QAAQ,CAACC,IAAjC;AACA3B,UAAAA,KAAK,CAAC+B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,YAA9B,cAAiDP,QAAQ,CAACC,IAAT,CAAc,YAAd,CAAjD;AACD;AACF,OAPM,CAAP;AAQD,KAZM;AAaPT,IAAAA,MAbO,kBAaAE,OAbA,EAaS;AACdA,MAAAA,OAAO,CAACU,MAAR,CAAe,QAAf;AACA9B,MAAAA,KAAK,CAAC+B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,YAA9B,IAA8CC,SAA9C;AACD;AAhBM;AA7BmB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\n\nVue.use(Vuex);\n\nconst SERVER_URL = process.env.VUE_APP_SERVER_URL;\n\nexport default new Vuex.Store({\n  state: {\n    accessToken: null,\n    userId: \"\",\n    userName: \"\",\n  },\n  getters: {\n    getAccessToken(state) {\n      return state.accessToken;\n    },\n    getUserId(state) {\n      return state.userId;\n    },\n    getUserName(state) {\n      return state.userName;\n    },\n  },\n  mutations: {\n    LOGIN(state, payload) {\n      state.accessToken = payload[\"auth-token\"];\n      state.userId = payload[\"user-id\"];\n      state.userName = payload[\"user-name\"];\n    },\n    LOGOUT(state) {\n      state.accessToken = null;\n      state.userId = \"\";\n      state.userName = \"\";\n    },\n  },\n  actions: {\n    LOGIN(context, user) {\n      console.log(\"로그인 시도!!\");\n      console.log(SERVER_URL);\n      return axios.post(`${SERVER_URL}/user/login`, user).then((response) => {\n        if (response.data.message) {\n          alert(\"로그인에 실패하였습니다.\");\n        } else {\n          context.commit(\"LOGIN\", response.data);\n          axios.defaults.headers.common[\"auth-token\"] = `${response.data[\"auth-token\"]}`;\n        }\n      });\n    },\n    LOGOUT(context) {\n      context.commit(\"LOGOUT\");\n      axios.defaults.headers.common[\"auth-token\"] = undefined;\n    },\n  },\n});\n"]}]}